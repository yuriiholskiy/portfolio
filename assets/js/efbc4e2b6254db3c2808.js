(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{193:function(e,t,r){var n=r(194);r(15);e.exports=class{constructor(e,t){var{query:r,path:path,init:n,postprocess:o=[]}=e;this.query=r,this.path=path,this.init=n,this.postprocess=o,this.options=t||{},this.keys=null,this.postprocess.unshift(data=>data.map(e=>function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).filter(e=>!t.includes(e)).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{})}(e,["text"])))}only(e){return this.keys=Array.isArray(e)?e:[e],this}sortBy(e,t){return this.query=this.query.simplesort(e,{desc:"desc"===t}),this}where(e){return this.query=this.query.find(e),this}search(e,t){var r;return r="object"==typeof e?e:t?{query:{type:"match",field:e,value:t,prefix_length:1,fuzziness:1,extended:!0,minimum_should_match:1}}:{query:{type:"bool",should:this.options.fullTextSearchFields.map(t=>({type:"match",field:t,value:e,prefix_length:1,operator:"and",minimum_should_match:1,fuzziness:1,extended:!0}))}},this.query=this.query.find({$fts:r}),this}surround(e){var{before:t=1,after:r=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.keys&&this.keys.push("slug");return this.postprocess.push(data=>{var n=data.findIndex(t=>t.slug===e),o=new Array(t+r).fill(null,0);if(-1===n)return o;for(var h=data.slice(n-t,n),c=data.slice(n+1,n+1+r),l=0,i=t-1;i>=0;i--)o[i]=h[l]||null,l++;for(var f=0,y=t;y<=r;y++)o[y]=c[f]||null,f++;return o}),this}limit(e){return"string"==typeof e&&(e=parseInt(e)),this.query=this.query.limit(e),this}skip(e){return"string"==typeof e&&(e=parseInt(e)),this.query=this.query.offset(e),this}fetch(){var e=this;return n((function*(){var data=e.query.data({removeMeta:!0});if(e.keys){e.postprocess.unshift(data=>data.map(t=>function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).filter(e=>t.includes(e)).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{})}(t,e.keys)))}for(var t of e.postprocess)data=t(data);if(!data)throw new Error("".concat(e.path," not found"));return JSON.parse(JSON.stringify(data))}))()}}},197:function(e,t,r){"use strict";r.r(t);r(47);var n=r(193),o=r.n(n),h=r(195),c=r.n(h),l=r(196);r.n(l).a.register();var f,y,d=["/"],v=function(){var e={},t=[];Array.from(arguments).forEach(r=>{"string"==typeof r?t.push(r):"object"==typeof r&&(e=r)});var path="/".concat(t.join("/").replace(/\/+/g,"/")),r=!path||!!d.find(e=>e===path),n=r?{dir:e.deep?{$regex:path}:path}:{path:path},h=r?[]:[data=>data[0]];return new o.a({query:y.chain().find(n,!r),postprocess:h},{fullTextSearchFields:["title","description","slug","text"]})};t.default=e=>((f=new c.a("content.db")).loadJSONObject(e),y=f.getCollection("items"),v)}}]);